<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Fits the model on data yielded batch-by-batch by a generator. — fit_generator • keras</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  <script src="../extra.js"></script>

<meta property="og:title" content="Fits the model on data yielded batch-by-batch by a generator. — fit_generator" />
<meta property="og:description" content="The generator is run in parallel to the model, for efficiency. For instance,
this allows you to do real-time data augmentation on images on CPU in
parallel to training your model on GPU." />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">keras</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.4.0.9003</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">Home</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/getting_started.html">Getting Started</a>
    </li>
    <li>
      <a href="../articles/tutorial_basic_classification.html">Basic Classification</a>
    </li>
    <li>
      <a href="../articles/tutorial_basic_text_classification.html">Text Classification</a>
    </li>
    <li>
      <a href="../articles/tutorial_basic_regression.html">Basic Regression</a>
    </li>
    <li>
      <a href="../articles/tutorial_overfit_underfit.html">Overfitting and Underfitting</a>
    </li>
    <li>
      <a href="../articles/tutorial_save_and_restore.html">Save and Restore Models</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Guides (New for TF 2.6)</li>
    <li>
      <a href="../articles/python_subclasses.html">Python Subclasses</a>
    </li>
    <li>
      <a href="../articles/guides/making_new_layers_and_models_via_subclassing.Rmd">Making New Layers and Models via Subclassing</a>
    </li>
    <li>
      <a href="../articles/guides/customizing_what_happens_in_fit.html">Customizing what happens in fit</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Using Keras</li>
    <li>
      <a href="../articles/guide_keras.html">Guide to Keras Basics</a>
    </li>
    <li>
      <a href="../articles/sequential_model.html">Sequential Model in Depth</a>
    </li>
    <li>
      <a href="../articles/functional_api.html">Functional API in Depth</a>
    </li>
    <li>
      <a href="../articles/about_keras_models.html">About Keras Models</a>
    </li>
    <li>
      <a href="../articles/about_keras_layers.html">About Keras Layers</a>
    </li>
    <li>
      <a href="../articles/training_visualization.html">Training Visualization</a>
    </li>
    <li>
      <a href="../articles/applications.html">Pre-Trained Models</a>
    </li>
    <li>
      <a href="../articles/faq.html">Frequently Asked Questions</a>
    </li>
    <li>
      <a href="../articles/why_use_keras.html">Why Use Keras?</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Advanced</li>
    <li>
      <a href="../articles/eager_guide.html">Eager Execution</a>
    </li>
    <li>
      <a href="../articles/training_callbacks.html">Training Callbacks</a>
    </li>
    <li>
      <a href="../articles/backend.html">Keras Backend</a>
    </li>
    <li>
      <a href="../articles/custom_layers.html">Custom Layers</a>
    </li>
    <li>
      <a href="../articles/custom_models.html">Custom Models</a>
    </li>
    <li>
      <a href="../articles/saving_serializing.html">Saving and serializing</a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/learn.html">Learn</a>
</li>
<li>
  <a href="../articles/tools.html">Tools</a>
</li>
<li>
  <a href="../articles/examples/index.html">Examples</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/rstudio/keras/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Fits the model on data yielded batch-by-batch by a generator.</h1>
    <small class="dont-index">Source: <a href='https://github.com/rstudio/keras/blob/master/R/model.R'><code>R/model.R</code></a></small>
    <div class="hidden name"><code>fit_generator.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The generator is run in parallel to the model, for efficiency. For instance,
this allows you to do real-time data augmentation on images on CPU in
parallel to training your model on GPU.</p>
    </div>

    <pre class="usage"><span class='fu'>fit_generator</span><span class='op'>(</span>
  <span class='va'>object</span>,
  <span class='va'>generator</span>,
  <span class='va'>steps_per_epoch</span>,
  epochs <span class='op'>=</span> <span class='fl'>1</span>,
  verbose <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span><span class='op'>(</span><span class='st'>"keras.fit_verbose"</span>, default <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>,
  callbacks <span class='op'>=</span> <span class='cn'>NULL</span>,
  view_metrics <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span><span class='op'>(</span><span class='st'>"keras.view_metrics"</span>, default <span class='op'>=</span> <span class='st'>"auto"</span><span class='op'>)</span>,
  validation_data <span class='op'>=</span> <span class='cn'>NULL</span>,
  validation_steps <span class='op'>=</span> <span class='cn'>NULL</span>,
  class_weight <span class='op'>=</span> <span class='cn'>NULL</span>,
  max_queue_size <span class='op'>=</span> <span class='fl'>10</span>,
  workers <span class='op'>=</span> <span class='fl'>1</span>,
  initial_epoch <span class='op'>=</span> <span class='fl'>0</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>object</th>
      <td><p>Keras model object</p></td>
    </tr>
    <tr>
      <th>generator</th>
      <td><p>A generator (e.g. like the one provided by
<code><a href='flow_images_from_directory.html'>flow_images_from_directory()</a></code> or a custom R
<a href='https://rstudio.github.io/reticulate/articles/calling_python.html#generators-1'>generator function</a>).</p>
<p>The output of the generator must be a list of one of these forms:</p><pre> - (inputs, targets)
 - (inputs, targets, sample_weights)
</pre>

<p>This list (a single output of the generator) makes a single batch.
Therefore, all arrays in this list must have the same length (equal to
the size of this batch). Different batches may have different sizes.
For example, the last batch of the epoch is commonly smaller than the
others, if the size of the dataset is not divisible by the batch size.
The generator is expected to loop over its data indefinitely. An epoch
finishes when <code>steps_per_epoch</code> batches have been seen by the model.</p></td>
    </tr>
    <tr>
      <th>steps_per_epoch</th>
      <td><p>Total number of steps (batches of samples) to yield
from <code>generator</code> before declaring one epoch finished and starting the next
epoch. It should typically be equal to the number of samples if your
dataset divided by the batch size.</p></td>
    </tr>
    <tr>
      <th>epochs</th>
      <td><p>Integer. Number of epochs to train the model.
An epoch is an iteration over the entire data provided, as defined by
<code>steps_per_epoch</code>. Note that in conjunction with <code>initial_epoch</code>,
<code>epochs</code> is to be understood as "final epoch". The model is not trained
for a number of iterations given by <code>epochs</code>, but merely until the epoch
of index <code>epochs</code> is reached.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>Verbosity mode (0 = silent, 1 = progress bar, 2 = one line per
epoch).</p></td>
    </tr>
    <tr>
      <th>callbacks</th>
      <td><p>List of callbacks to apply during training.</p></td>
    </tr>
    <tr>
      <th>view_metrics</th>
      <td><p>View realtime plot of training metrics (by epoch). The
default (<code>"auto"</code>) will display the plot when running within RStudio,
<code>metrics</code> were specified during model <code><a href='https://generics.r-lib.org/reference/compile.html'>compile()</a></code>, <code>epochs &gt; 1</code> and
<code>verbose &gt; 0</code>. Use the global <code>keras.view_metrics</code> option to establish a
different default.</p></td>
    </tr>
    <tr>
      <th>validation_data</th>
      <td><p>this can be either:</p><ul>
<li><p>a generator for the validation data</p></li>
<li><p>a list (inputs, targets)</p></li>
<li><p>a list (inputs, targets, sample_weights).
on which to evaluate
the loss and any model metrics at the end of each epoch.
The model will not be trained on this data.</p></li>
</ul></td>
    </tr>
    <tr>
      <th>validation_steps</th>
      <td><p>Only relevant if <code>validation_data</code> is a generator.
Total number of steps (batches of samples) to yield from <code>generator</code> before
stopping at the end of every epoch. It should typically be equal to the number
of samples of your validation dataset divided by the batch size.</p></td>
    </tr>
    <tr>
      <th>class_weight</th>
      <td><p>Optional named list mapping class indices (integer) to a
weight (float) value, used for weighting the loss function (during
training only). This can be useful to tell the model to "pay more
attention" to samples from an under-represented class.</p></td>
    </tr>
    <tr>
      <th>max_queue_size</th>
      <td><p>Maximum size for the generator queue. If unspecified,
<code>max_queue_size</code> will default to 10.</p></td>
    </tr>
    <tr>
      <th>workers</th>
      <td><p>Maximum number of threads to use for parallel processing. Note that
parallel processing will only be performed for native Keras generators (e.g.
<code><a href='flow_images_from_directory.html'>flow_images_from_directory()</a></code>) as R based generators must run on the main thread.</p></td>
    </tr>
    <tr>
      <th>initial_epoch</th>
      <td><p>epoch at which to start training (useful for resuming a
previous training run)</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Training history object (invisibly)</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other model functions: 
<code><a href='compile.keras.engine.training.Model.html'>compile.keras.engine.training.Model</a>()</code>,
<code><a href='evaluate.keras.engine.training.Model.html'>evaluate.keras.engine.training.Model</a>()</code>,
<code><a href='evaluate_generator.html'>evaluate_generator</a>()</code>,
<code><a href='fit.keras.engine.training.Model.html'>fit.keras.engine.training.Model</a>()</code>,
<code><a href='get_config.html'>get_config</a>()</code>,
<code><a href='get_layer.html'>get_layer</a>()</code>,
<code><a href='keras_model_sequential.html'>keras_model_sequential</a>()</code>,
<code><a href='keras_model.html'>keras_model</a>()</code>,
<code><a href='multi_gpu_model.html'>multi_gpu_model</a>()</code>,
<code><a href='pop_layer.html'>pop_layer</a>()</code>,
<code><a href='predict.keras.engine.training.Model.html'>predict.keras.engine.training.Model</a>()</code>,
<code><a href='predict_generator.html'>predict_generator</a>()</code>,
<code><a href='predict_on_batch.html'>predict_on_batch</a>()</code>,
<code><a href='predict_proba.html'>predict_proba</a>()</code>,
<code><a href='summary.keras.engine.training.Model.html'>summary.keras.engine.training.Model</a>()</code>,
<code><a href='train_on_batch.html'>train_on_batch</a>()</code></p></div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Tomasz Kalinowski, JJ Allaire, François Chollet,  RStudio,  Google.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


